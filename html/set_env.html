<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Manak: Setting Environment</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Manak
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('set_env.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Setting Environment </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="set_env_smt"></a>
Setting module type</h1>
<p>Manak offers 2 module types, simple and normal.</p>
<h2><a class="anchor" id="set_env_msbm"></a>
MANAK_SIMPLE_BENCHMARK_MODULE</h2>
<p>Simple module can be set by defining 'MANAK_SIMPLE_BENCHMARK_MODULE' to desired name. By setting this module only one library will be registered with name "base_library". All the auto cases will be registered under this library. To change the name of this library check out <a class="el" href="set_env.html#set_env_mbln">MANAK_BASE_LIBRARY_NAME</a>. For macros available in this module check out <a class="el" href="s_mod.html">Simple Benchmark Module</a></p>
<h2><a class="anchor" id="set_env_mbm"></a>
MANAK_BENCHMARK_MODULE</h2>
<p>Normak benchmark module can be set by defining 'MANAK_BENCHMARK_MODULE' to desired name. This module supports multiple libraries. When this module is used each benchmark case has to assigned to a library. For macros available in this module check out <a class="el" href="n_mod.html">Benchmark Module</a></p>
<h1><a class="anchor" id="set_env_smft"></a>
Set main function type</h1>
<h2><a class="anchor" id="set_env_mabm"></a>
MANAK_AUTO_BENCHMARK_MAIN</h2>
<p>By defining 'MANAK_AUTO_BENCHMARK_MAIN', manak will create a main function for you. This main function will initialize all the cases and run them.</p>
<h2><a class="anchor" id="set_env_mcmf"></a>
Manually creating main function</h2>
<p>You can create your own main function and still run all the benchmarks by calling function <a class="el" href="namespacemanak.html#adcb407502ab54acd1f73edb30564d5ce" title="This function runs benchmarking module with given function. ">manak::manak_benchmarking_main</a>. The function accepts benchmark initialization function as the first argument. Check out <a class="el" href="set_env.html#set_env_sbif">Set benchmark initialization function</a> for more information on benchmark initialization function. Init function can be manually generated for registering benchmark cases manually. In any case MANAK_INIT_FUNCTION will be set to the current init function. See <a class="el" href="build.html#build_cli">Command Line Arguments</a> for command line arguments available for auto generated main or manak_benchmarking_main. Or you can pass argument '-h' to any generated executable to get help.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define MANAK_SIMPLE_BENCHMARK_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="namespacemanak.html#adcb407502ab54acd1f73edb30564d5ce">manak::manak_benchmarking_main</a>(<a class="code" href="manak_8hpp.html#ac85d291ccac61ae5a1419b0c3f4556bc">MANAK_INIT_FUNCTION</a>, argc, argv);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="set_env_sbif"></a>
Set benchmark initialization function</h1>
<p>The deafult initialization function is <a class="el" href="namespacemanak.html#a93543497ad183da42bf3aad4995621d3">manak::init_benchmarking_module</a>. This initialization function set all the primary environment variables. To register benchmarking cases manually you need to create and register your own benchmark initialization function. This can be done by setting MANAK_ALTERNATE_INIT_FUNCTION to the desired name. The initialization function should return bool, the success state. This function should be available in the namespace at the time main is defined. This initilaization function should call <a class="el" href="namespacemanak.html#a93543497ad183da42bf3aad4995621d3">manak::init_benchmarking_module</a> for setting primary variables. For example -</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> bench_init();</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define MANAK_SIMPLE_BENCHMARK_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_AUTO_BENCHMARK_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_ALTERNATE_INIT_FUNCTION bench_init</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> bench_init()</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">if</span>(!<a class="code" href="namespacemanak.html#a93543497ad183da42bf3aad4995621d3">manak::init_benchmarking_module</a>())</div>
<div class="line">    exit(1);</div>
<div class="line">  </div>
<div class="line">  Manual <span class="keywordflow">case</span> registration;</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>For guide on manual case registration check out <a class="el" href="man_reg.html">Manual Registration</a></p>
<h1><a class="anchor" id="set_env_soo"></a>
Set Output Options</h1>
<h2><a class="anchor" id="set_env_sro"></a>
Setting Redirection Options</h2>
<p>All the output to the standard output is redirected predefined redirection stream while running any benchmark case. By default this redirection is done to file 'benchmark_log.txt'. To chnage the filename of of this default redirection file set 'MANAK_REDIRECTION_FILENAME' to desired value.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define MANAK_SIMPLE_BENCHMARK_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_AUTO_BENCHMARK_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_REDIRECTION_FILENAME logs.txt</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
</div><!-- fragment --><p>Redirection can also be done to the already existing stream. Set 'MANAK_BENCHMARK_REDIRECTION_STREAM' to stream's buffer.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define MANAK_SIMPLE_BENCHMARK_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_AUTO_BENCHMARK_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_BENCHMARK_REDIRECTION_STREAM std::cout.rdbuf()</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="set_env_soof"></a>
Setting Options For Output File</h2>
<p>By default the results of the benchmarks are saved to file 'benchmark_stat.txt'. This default filename can be changed by setting 'MANAK_DEFAULT_OUT_FILENAME' to desired value.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define MANAK_SIMPLE_BENCHMARK_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_AUTO_BENCHMARK_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_DEFAULT_OUT_FILENAME out.txt</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
</div><!-- fragment --><p>The output filname can also be given at runtime with command line argument '-o &lt;filename&gt;'. This run time filename will override the default filename. For more command line arguments </p>
<dl class="section see"><dt>See Also</dt><dd>build_cli.</dd></dl>
<p>The default generated output shows average time of all iterations. To also see min and max values define MANAK_SHOW_MIN_MAX.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define MANAK_SIMPLE_BENCHMARK_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_AUTO_BENCHMARK_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_SHOW_MIN_MAX</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="module__benchmark__case_8hpp.html#a57b66a0d95282c208124d1bdac0f8d2e">MANAK_AUTO_BENCHMARK_CASE</a>(ForLoop)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0;i &lt; 1000;i++);</div>
<div class="line">}</div>
</div><!-- fragment --><p>The output generated by this code will look like this -</p>
<div class="fragment"><div class="line"><span class="preprocessor">######################################################################</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#  Manak C++ Benchmarking Library                                    #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#  Version master.0.0                                                #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#  Created at Nov 13 22:41:53 2014                                   #</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">######################################################################</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">       Case Name              base_library        </div>
<div class="line"></div>
<div class="line">ForLoop                       3.2[3:4]            </div>
</div><!-- fragment --><p>The values given in brackets stand for [min:max].</p>
<h1><a class="anchor" id="set_env_oev"></a>
Other Environment Variables</h1>
<h2><a class="anchor" id="set_env_mbln"></a>
MANAK_BASE_LIBRARY_NAME</h2>
<p>Set MANAK_BASE_LIBRARY_NAME to desired name to change the name of singleton library in 'MANAK_SIMPLE_BENCHMARK_MODULE'.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_BASE_LIBRARY_NAME &lt;name&gt;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="set_env_mdi"></a>
MANAK_DEFAULT_ITERATIONS</h2>
<p>If number of iterations is not specified for any benchmark case the default number of iterations are used. The default can be chnaged by setting 'MANAK_DEFAULT_ITERATIONS' to the desired value.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_DEFAULT_ITERATIONS &lt;value in integer&gt;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="set_env_mdt"></a>
MANAK_DEFAULT_TOLERANCE</h2>
<p>If tolerance is not specified for any benchmark case the default is used. The default can be chnaged by setting 'MANAK_DEFAULT_TOLERANCE' to desired value. The measure of tolerance is microseconds. To understand the use of tolerance see <a class="el" href="comp.html">Comparison Framework</a>.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_DEFAULT_TOLERANCE &lt;value in microseconds&gt;</span></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Nov 15 2014 05:14:29 for Manak by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
