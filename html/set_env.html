<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Manak: Setting Environment</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Manak
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('set_env.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Setting Environment </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Setting"></a>
Linkage Type</h1>
<p>Manak can be used both with static linkage and dynamic linkage. The default is static linkage. To use Manak with dynamic linkage -</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line">Set Manak environment; </div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define MANAK_USE_DYN_LINK</span></div>
<div class="line"><span class="preprocessor">#include &lt;manak/manak.hpp&gt;</span></div>
</div><!-- fragment --><p>With this you need to provide the shared object generated in build to the linker. If you have installed Manak to one of the default directories, passing option '-lmanak' should work.</p>
<h1><a class="anchor" id="set_env_smft"></a>
Set main function type</h1>
<h2><a class="anchor" id="set_env_mabm"></a>
MANAK_AUTO_MAIN</h2>
<p>By defining 'MANAK_AUTO_MAIN', manak will create a main function for you. This main function will initialize all the cases and run them.</p>
<h2><a class="anchor" id="set_env_mcmf"></a>
Manually creating main function</h2>
<p>You can create your own main function and still run all the benchmarks by calling function manak::manak_main. You can pass command line arguments to this function.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_SIMPLE_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_INIT</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">  manak::manak_main(argc, argv);</div>
<div class="line">}</div>
</div><!-- fragment --><p>NOTE: 'MANAK_AUTO_MAIN' or 'MANAK_INIT' has to be defined only once in case of multi file project. Check out <a class="el" href="multi_file.html">Using Manak Effectively in Multi File Project</a> for more information.</p>
<h1><a class="anchor" id="set_env_sbif"></a>
Set Manual initialization function</h1>
<p>The deafult initialization function is <a class="el" href="namespacemanak.html#ac999c55405a23e9c842411033ecd2120">manak::manak_init_module</a>. This initialization function set all the primary environment variables. To register benchmarking cases manually you need to create and register your own benchmark initialization function. This can be done by setting MANAK_MANUAL_INIT_FUNCTION to the desired name. The initialization function should return bool, the success state. This function should be available in the namespace at the time 'manak_init_function' is defined. This manual init function will be called default init function.</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> bench_init();</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define MANAK_SIMPLE_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_AUTO_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_INIT</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_MANUAL_INIT_FUNCTION bench_init</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> bench_init()</div>
<div class="line">{</div>
<div class="line">  Manual <span class="keywordflow">case</span> registration;</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>NOTE: 'MANAK_AUTO_MAIN' or 'MANAK_INIT' has to be defined only once in case of multi file project. Check out <a class="el" href="multi_file.html">Using Manak Effectively in Multi File Project</a> for more information.</p>
<p>For guide on manual case registration check out <a class="el" href="man_reg.html">Manual Registration</a></p>
<h1><a class="anchor" id="set_env_soo"></a>
Set Output Options</h1>
<h2><a class="anchor" id="set_env_sro"></a>
Setting Redirection Options</h2>
<p>All the output to the standard output is redirected to predefined redirection stream while running any case. By default this redirection is done to file 'benchmark_log.txt'. To chnage the filename of of this default redirection file set 'MANAK_REDIRECTION_FILENAME' to desired value.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_SIMPLE_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_AUTO_BENCHMARK_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_INIT</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_REDIRECTION_FILENAME logs.txt</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
</div><!-- fragment --><p>Redirection can also be done to the already existing stream. Set 'MANAK_REDIRECTION_BUFFER' to stream's buffer.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_SIMPLE_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_AUTO_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_INIT</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_REDIRECTION_BUFFER std::cout.rdbuf()</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="set_env_soof"></a>
Setting Options For Output File</h2>
<p>By default the results of the benchmarks are saved to file 'benchmark_stat.html'. This default filename can be changed by setting 'MANAK_DEFAULT_OUT_FILENAME' to desired value.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_SIMPLE_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_AUTO_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_INIT</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_DEFAULT_OUT_FILENAME out</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
</div><!-- fragment --><p>Here depending on the format the output will be either written to out.html or out.txt. The default format is HTML. The format can be changed with '-f' command line option. '-f TXT' will store the output i TXT format.</p>
<p>The output filname can also be given at runtime with command line argument '-o &lt;filename&gt;'. This run time filename will override the default filename. For more command line arguments </p>
<dl class="section see"><dt>See Also</dt><dd>build_cli.</dd></dl>
<h1><a class="anchor" id="set_env_oev"></a>
Other Environment Variables</h1>
<h2><a class="anchor" id="set_env_mbln"></a>
MANAK_BASE_LIBRARY_NAME</h2>
<p>Set MANAK_BASE_LIBRARY_NAME to desired name to change the name of singleton library in 'MANAK_SIMPLE_MODULE'.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_BASE_LIBRARY_NAME &lt;name&gt;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="set_env_mdi"></a>
MANAK_DEFAULT_ITERATIONS</h2>
<p>If number of iterations is not specified for any benchmark case the default number of iterations are used(which is 10). The default can be chnaged by setting 'MANAK_DEFAULT_ITERATIONS' to the desired value. The scope of this macro is limited by file, hence you can set different defaults for each file in your multi file project. Check out <a class="el" href="multi_file.html">Using Manak Effectively in Multi File Project</a> for tutorial on using Manak in multi file environment.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_DEFAULT_ITERATIONS &lt;value in integer&gt;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="set_env_mdt"></a>
MANAK_DEFAULT_TOLERANCE</h2>
<p>If tolerance is not specified for any benchmark case the default is used(which is 10ms). The default can be chnaged by setting 'MANAK_DEFAULT_TOLERANCE' to desired value. The measure of tolerance is microseconds. To understand the use of tolerance see <a class="el" href="comp.html">Comparison Framework</a>. The scope of this macro is limited by file, hence you can set different defaults for each file in your multi file project. Check out <a class="el" href="multi_file.html">Using Manak Effectively in Multi File Project</a> for tutorial on using Manak in multi file environment.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_DEFAULT_TOLERANCE &lt;value in microseconds&gt;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="set_env_mdsp"></a>
MANAK_DEFAULT_SP</h2>
<p>If success percentage is not specified for any benchmark case the default is used(which is 100). The default can be chnaged by setting 'MANAK_DEFAULT_SP' to desired value. The scope of this macro is limited by file, hence you can set different defaults for each file in your multi file project. Check out <a class="el" href="multi_file.html">Using Manak Effectively in Multi File Project</a> for tutorial on using Manak in multi file environment.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_DEFAULT_SP &lt;value in percentage&gt;</span></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Feb 5 2015 21:20:27 for Manak by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
