<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Manak: Using Manak Effectively in Multi File Project</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Manak
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('multi_file.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Using Manak Effectively in Multi File Project </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Manak provided many features so as to make things easier while handling multi file projects.</p>
<p>Let us first take a look at a typical one file usage of Manak -</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_INIT</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_AUTO_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_SIMPLE_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
<div class="line"></div>
<div class="line">Case Registration.</div>
</div><!-- fragment --><p>Now we will how can we handler this same thing in multiple files. Here the macros 'MANAK_AUTO_MAIN' and 'MANAK_INIT' should only be declared once as they include the associated 'main' and initialization function to the file. The initialization function registers the module name hence where ever 'MANAK_INIT' is defined that file must contain the correct module name which can be defined with 'MANAK_SIMPLE_MODULE' or 'MANAK_MODULE'. Okay so ideally we should have a project initialization file which takes care of these things. Let us call it 'proj_init.cpp'.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_INIT</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_AUTO_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_SIMPLE_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
</div><!-- fragment --><p>Okay so now we have a '.cpp' file which will initialize Manak and we are free to add files to this project.</p>
<p>For example let us add file 'file1.cpp'.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_MODULE </span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
<div class="line"></div>
<div class="line">Case Registration</div>
</div><!-- fragment --><p>You can notice here that we just defined 'MANAK_MODULE', nothing else is required. This definition contradicts with the old definition 'MANAK_SIMPLE_MODULE', but it does not matter as the scope of this definition is file specific. This module definition only imports the appropriate macros to the file, nothing else, even the name is not required except, obviously where 'MANAK_INIT' is defined. So in this file we will register some benchmark cases with different library names. Check out <a class="el" href="s_mod.html">Simple Benchmark Module</a> and <a class="el" href="n_mod.html">Normal Module</a> if you want to know the available macros in the respective modules.</p>
<p>Now let us say in one file you want to register cases all with same library name you can shift to simple module.</p>
<p>We add file 'file2.cpp'</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_SIMPLE_MODULE Lib1</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
<div class="line"></div>
<div class="line">Case Registration.</div>
</div><!-- fragment --><p>Here we defined 'MANAK_SIMPLE_MODULE' to the constant library name we are going to use. This is simple hack. You can also set 'MANAK_BASE_LIBRARY_NAME' to appropriate value. Remember, 'MANAK_BASE_LIBRARY_NAME' overrides 'MANAK_SIMPLE_MODULE'.</p>
<p>The following macros are also file secific or in other words takes affect in the file they are defined</p>
<ul>
<li>MANAK_DEFAULT_TOLERANCE</li>
<li>MANAK_DEFAULT_ITERATIONS</li>
<li>MANAK_DEFAULT_SP</li>
</ul>
<p>With these functionality splitting up registration in multiple files is a smart choice as different files can hold different Manak environment. On the other hand if you want a constant Manak environment we add a 'proj.hpp' file with the environment set and include it in all the files. But do remember to define 'MANAK_AUTO_MAIN' and 'MANAK_INIT' only once or you will face the weird c++ errors on your terminal.</p>
<p>Note: You can find the code in Examples. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Feb 5 2015 21:20:27 for Manak by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
