<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Manak: Test Framework</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Manak
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('test_fr.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Test Framework </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A benchmarkin case of Manak can perform testing with 'TEST' blocks. For example -</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_AUTO_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_INIT</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_SIMPLE_MODULE bench</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="module__benchmark__case_8hpp.html#a57b66a0d95282c208124d1bdac0f8d2e">MANAK_AUTO_BENCHMARK_CASE</a>(B1)</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="test__macros_8hpp.html#a92717f0a23da76e5499d59c7587df54d">TEST</a></div>
<div class="line">  (</div>
<div class="line">    <a class="code" href="test__macros_8hpp.html#ab4ed16169ff4a3e1000b18d3a2f24d57">MANAK_ASSERT_TRUE</a>(1 == 2);</div>
<div class="line">  )</div>
<div class="line">}</div>
</div><!-- fragment --><p>The output can be seen <a href="samples/test_fr_1.html">HERE</a>.</p>
<p>The failure message can seen in the detailed report of case 'B1'. The red color indicates the test is failed.</p>
<p>Test macros can only be used inside 'TEST' blocks. 'TEST' block create an environment suitable for testing, but it may slow down the code. Hence it is not advisable to put 'MEASURE' blocks inside the 'TEST' block, but it can be done and the effect is same. Remember 'TEST' block creates a new scope while 'MEASURE' block evaluates in the same scope. There can be multiple 'TEST' blocks.</p>
<p>As the case is run for certain number of iteration, test is also run for that many iterations. This provides us with the concept success percentage which is very helpful in case of randomized tests. Let us assume the benchmark case is supposed to run for 10 iterations and the test passed for 8 iterations, then the success percentage is 8/10. You can provide the expected success percentage with macros. Check out <a class="el" href="s_mod.html">Simple Benchmark Module</a> and n_mod for available macros. If the observed success percentage is greater than or equal to the expected success percentage the benchmark case is considered passed.</p>
<p>For example - </p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MANAK_AUTO_MAIN</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_INIT</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define MANAK_SIMPLE_MODULE</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="manak_8hpp.html">manak/manak.hpp</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">size_t</span> test = 0;</div>
<div class="line"></div>
<div class="line"><a class="code" href="module__benchmark__case_8hpp.html#a2f0af965aa3a7d770333fe6a210267c8">MANAK_AUTO_BENCHMARK_CASE_IS</a>(B1, 10, 75)</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="test__macros_8hpp.html#a92717f0a23da76e5499d59c7587df54d">TEST</a></div>
<div class="line">  (</div>
<div class="line">    <a class="code" href="test__macros_8hpp.html#ab4ed16169ff4a3e1000b18d3a2f24d57">MANAK_ASSERT_TRUE</a>(test++ &lt; 8);</div>
<div class="line">  )</div>
<div class="line">}</div>
</div><!-- fragment --><p>The output can be seen <a href="samples/test_fr_2.html">HERE</a>.</p>
<p>As you can see from the output that case 'B1' is shown in green as the expected success percentage is satisfied. Although the common failure message is also shown in the detailed report. Another importatant thing to notice here is that the expression in macros is evaluated exactly once. This is true for all the macros provided by Manak.</p>
<p>The ASSERT macros:</p>
<ul>
<li><a class="el" href="test_fr.html#test_fr_m_at">MANAK_ASSERT_TRUE</a></li>
<li><a class="el" href="test_fr.html#test_fr_m_atm">MANAK_ASSERT_TRUE_MSG</a></li>
<li><a class="el" href="test_fr.html#test_fr_m_af">MANAK_ASSERT_FALSE</a></li>
<li><a class="el" href="test_fr.html#test_fr_m_afm">MANAK_ASSERT_FALSE_MSG</a></li>
</ul>
<p>The CHECK macros:</p>
<ul>
<li><a class="el" href="test_fr.html#test_fr_m_ct">MANAK_CHECK_TRUE</a></li>
<li><a class="el" href="test_fr.html#test_fr_m_ctm">MANAK_CHECK_TRUE_MSG</a></li>
<li><a class="el" href="test_fr.html#test_fr_m_cf">MANAK_CHECK_FALSE</a></li>
<li><a class="el" href="test_fr.html#test_fr_m_cfm">MANAK_CHECK_FALSE_MSG</a></li>
</ul>
<h1><a class="anchor" id="test_fr_ma"></a>
Macros</h1>
<h2><a class="anchor" id="test_fr_m_a"></a>
ASSERT Macros</h2>
<p>With ASSERT macros, if the condition fails the execution of that iteration is stopped immediately.</p>
<h2><a class="anchor" id="test_fr_m_at"></a>
MANAK_ASSERT_TRUE</h2>
<p>Checks if the expression given evaluates to false else fails. If failed, terminates the current iteration.</p>
<div class="fragment"><div class="line"><a class="code" href="test__macros_8hpp.html#ab4ed16169ff4a3e1000b18d3a2f24d57">MANAK_ASSERT_TRUE</a>(1 == 1);</div>
</div><!-- fragment --><h2><a class="anchor" id="test_fr_m_atm"></a>
MANAK_ASSERT_TRUE_MSG</h2>
<p>Checks if the expression given evaluates to false else fails. If failed, terminates the current iteration. Custom failure message has to be given as second argument.</p>
<div class="fragment"><div class="line"><a class="code" href="test__macros_8hpp.html#a17a31fe139edbeb2c76a2b4a1602fe0a">MANAK_ASSERT_TRUE_MSG</a>(1 == 1, <span class="stringliteral">&quot;What is wrong with this compiler?&quot;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="test_fr_m_af"></a>
MANAK_ASSERT_FALSE</h2>
<p>Checks if the expression given evaluates to false else fails. If failed, terminates the current iteration.</p>
<div class="fragment"><div class="line"><a class="code" href="test__macros_8hpp.html#ac277a417d18a7f84aa98634102900a70">MANAK_ASSERT_FALSE</a>(1 == 2);</div>
</div><!-- fragment --><h2><a class="anchor" id="test_fr_m_afm"></a>
MANAK_ASSERT_FALSE_MSG</h2>
<p>Checks if the expression given evaluates to false else fails. If failed, terminates the current iteration. Custom failure message has to be given as second argument.</p>
<div class="fragment"><div class="line"><a class="code" href="test__macros_8hpp.html#a14f503e595ed5c5a6c5be5ae9524f8b8">MANAK_ASSERT_FALSE_MSG</a>(1 == 2, <span class="stringliteral">&quot;What is wrong with this compiler?&quot;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="test_fr_m_c"></a>
CHECK Macros</h2>
<p>With CHECK macros, if the condition fails the failure is reported but the test continues.</p>
<h2><a class="anchor" id="test_fr_m_ct"></a>
MANAK_CHECK_TRUE</h2>
<p>Checks if the expression given evaluates to false else fails. In case of failure, the failure is reportd and test continue.</p>
<div class="fragment"><div class="line"><a class="code" href="test__macros_8hpp.html#aea16f417d7671cd7753b5a52f941d164">MANAK_CHECK_TRUE</a>(1 == 1);</div>
</div><!-- fragment --><h2><a class="anchor" id="test_fr_m_ctm"></a>
MANAK_CHECK_TRUE_MSG</h2>
<p>Checks if the expression given evaluates to false else fails. In case of failure, the failure is reportd and test continue. Custom failure message has to be given as second argument.</p>
<div class="fragment"><div class="line"><a class="code" href="test__macros_8hpp.html#aedf2f5e4fd59a2053307525292f2b6f9">MANAK_CHECK_TRUE_MSG</a>(1 == 1, <span class="stringliteral">&quot;What is wrong with this compiler?&quot;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="test_fr_m_cf"></a>
MANAK_CHECK_FALSE</h2>
<p>Checks if the expression given evaluates to false else fails. In case of failure, the failure is reportd and test continue.</p>
<div class="fragment"><div class="line"><a class="code" href="test__macros_8hpp.html#a76cad97f76bb9fb58439e94bef3f62d3">MANAK_CHECK_FALSE</a>(1 == 2);</div>
</div><!-- fragment --><h2><a class="anchor" id="test_fr_m_cfm"></a>
MANAK_CHECK_FALSE_MSG</h2>
<p>Checks if the expression given evaluates to false else fails. In case of failure, the failure is reportd and test continue. Custom failure message has to be given as second argument.</p>
<div class="fragment"><div class="line"><a class="code" href="test__macros_8hpp.html#aa16f0fcd326e0e6e7ccc198e75e80037">MANAK_CHECK_FALSE_MSG</a>(1 == 2, <span class="stringliteral">&quot;What is wrong with this compiler?&quot;</span>);</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Feb 5 2015 21:20:27 for Manak by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
